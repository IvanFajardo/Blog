<div class="bgimage">
    <div class="container">
        <div class="d-flex justify-content-center h-100">
            <div class="card_login">
                <div class="card-header">
                    <h3>Register</h3>
                </div>
                <form [formGroup]="registerForm">
                    <div class="card-body">                   
                        <div class="row">
                            <div class="input-group form-group col">
                                
                                <input type="text" class="form-control" formControlName="fname" (blur)="checkError('fname','First Name is a required Field!')" placeholder="First Name">
                                <fa-icon *ngIf="registerForm.get('fname').valid" [icon]="checkCircle"></fa-icon>
                            </div>
                            
                            <!-- <div class="input-group form-group">
                                <input type="text" class="form-control" formControlName="mname" (blur)="checkError('mname','Middle Name is a required Field!')" placeholder="Middle Name">
                                <fa-icon *ngIf="registerForm.get('mname').valid" [icon]="checkCircle"></fa-icon>
                            </div> -->

                            <div class="input-group form-group col">
                                <input type="text" class="form-control" formControlName="lname" (blur)="checkError('lname','Last Name is a required Field!')" placeholder="Last Name">
                                <fa-icon *ngIf="registerForm.get('lname').valid" [icon]="checkCircle"></fa-icon>
                            </div>
                        </div>

                        <div class="input-group form-group">
                            <input type="email" class="form-control" formControlName="email" (blur)="checkError('email','Invalid email!')" placeholder="Email">
                            <fa-icon *ngIf="registerForm.get('email').valid" [icon]="checkCircle"></fa-icon>
                        </div>                                     
                    
                    
                        <div class="input-group form-group">
                            <input type="text" class="form-control" formControlName="username" (blur)="validateUser()" placeholder="Username">
                            <fa-icon *ngIf="registerForm.get('username').valid && !hasDuplicate" [icon]="checkCircle"></fa-icon>
                        </div>

                        <div class="input-group form-group">
                            <input type="password" class="form-control" formControlName="password" placeholder="Password">
                            <fa-icon *ngIf="registerForm.get('password').valid" [icon]="checkCircle"></fa-icon>
                        </div>

                        <div class="input-group form-group">
                            <input type="password" class="form-control" formControlName="repassword" placeholder="Re-type Password">
                            <fa-icon *ngIf="(registerForm.get('password').value === registerForm.get('repassword').value)
                            && registerForm.get('password').valid" [icon]="checkCircle"></fa-icon>
                        </div>

                        <div class="float-left">
                        <select formControlName="userType" class="form-control">
                            <option value="" disabled selected>User Type</option>
                            <option value="admin">Admin</option>
                            <option value="user">User</option>
                        </select>
                        </div>
                        <button type="submit" class="btn float-right login_btn" (click) = submitUser() [disabled] = "!registerForm.valid">Submit</button>
                        
                    </div> 
                    <br>                  
                    
                </form> 

                <div class="card-footer">
                    <div class="d-flex justify-content-center links">
                        Already have an account?<a [routerLink]="['/login']">Login</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<app-messages [message]="message"></app-messages>


